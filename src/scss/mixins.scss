@use "sass:map";
@use "variables.scss";

// =============================================================================
// RESPONSIVE BREAKPOINT MIXINS
// =============================================================================

// Generate responsive utility classes for all breakpoints
// Usage: @include make-responsive(display-none) { display: none !important; }
// Output: .xs\:display-none, .sm\:display-none, .md\:display-none, etc.
@mixin make-responsive($class-name) {
    @each $name, $min in variables.$breakpoints {
        @media (width >= $min) {
            .#{$name}\:#{$class-name} {
                @content;
            }
        }
    }
}

// Apply styles when viewport width is >= breakpoint
// Usage: @include respond-to(md) { ...styles... }
// Output: @media (width >= 768px) { ...styles... }
@mixin respond-to($breakpoint) {
    $min: map.get(variables.$breakpoints, $breakpoint);
    @if $min != null {
        @media (width >= $min) {
            @content;
        }
    } @else {
        @warn "Breakpoint `#{$breakpoint}` not found in $breakpoints map.";
    }
}

// Apply styles when viewport width is < breakpoint
// Usage: @include respond-to-max(lg) { ...styles... }
// Output: @media (width < 992px) { ...styles... }
@mixin respond-to-max($breakpoint) {
    $min: map.get(variables.$breakpoints, $breakpoint);
    @if $min != null {
        @media (width < $min) {
            @content;
        }
    } @else {
        @warn "Breakpoint `#{$breakpoint}` not found in $breakpoints map.";
    }
}

// =============================================================================
// SPACING UTILITIES MIXIN
// =============================================================================

$directions: (
    t: top,
    r: right,
    b: bottom,
    l: left
) !default;

// Generate spacing utility classes for padding and margin
// Usage: @include create-for-directions("p", "padding", "3", 1rem);
// Output: .pt-3, .pr-3, .pb-3, .pl-3, .p-3, .px-3, .py-3
@mixin create-for-directions($class-name, $property, $spacing-name, $spacing-value) {
    @each $abbr, $dir in $directions {
        .#{$class-name}#{$abbr}-#{$spacing-name} {
            #{$property}-#{$dir}: $spacing-value;
        }
    }

    .#{$class-name}-#{$spacing-name} {
        #{$property}: $spacing-value;
    }

    .#{$class-name}x-#{$spacing-name} {
        #{$property}-left: $spacing-value;
        #{$property}-right: $spacing-value;
    }

    .#{$class-name}y-#{$spacing-name} {
        #{$property}-top: $spacing-value;
        #{$property}-bottom: $spacing-value;
    }
}
