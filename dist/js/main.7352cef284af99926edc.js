(()=>{"use strict";var e=function(e,t,n,i){return new(n||(n=Promise))(function(r,o){function s(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}l((i=i.apply(e,t||[])).next())})};class t{constructor(e){this.root=e,this.index=0,this.track=e.querySelector(".carousel-track"),this.prevBtn=e.querySelector(".prev-button"),this.nextBtn=e.querySelector(".next-button"),this.bindEvents(),this.update()}get cardsVisible(){const e=getComputedStyle(this.root).getPropertyValue("--cards-visible");return Number(e)||1}get maxIndex(){return Math.max(0,this.track.children.length-this.cardsVisible)}bindEvents(){this.nextBtn.addEventListener("click",()=>{console.log("click next"),this.index=Math.min(this.index+1,this.maxIndex),this.update()}),this.prevBtn.addEventListener("click",()=>{console.log("click previous"),this.index=Math.max(this.index-1,0),this.update()}),window.addEventListener("resize",()=>this.update())}update(){const e=this.index*(100/this.cardsVisible);this.track.style.transform=`translateX(-${e}%)`}}document.addEventListener("DOMContentLoaded",()=>{const n=document.getElementById("prestationsCarousel");new t(n),function(){const t=document.querySelector("#appointmentForm");t&&t.addEventListener("submit",n=>e(this,void 0,void 0,function*(){n.preventDefault();try{yield function(t){return e(this,void 0,void 0,function*(){var e,n,i,r,o,s,a,l,c;const d=new FormData(t),u={firstname:String(null!==(e=d.get("firstname"))&&void 0!==e?e:""),lastname:String(null!==(n=d.get("lastname"))&&void 0!==n?n:""),mail:String(null!==(i=d.get("mail"))&&void 0!==i?i:""),message:String(null!==(r=d.get("message"))&&void 0!==r?r:""),energeticCare:String(null!==(o=d.get("energeticCareChbx"))&&void 0!==o?o:""),cardDrawing:String(null!==(s=d.get("cardDrawingChbx"))&&void 0!==s?s:""),numerology:String(null!==(a=d.get("numerologyChbx"))&&void 0!==a?a:""),remoteCare:String(null!==(l=d.get("remoteCareChbx"))&&void 0!==l?l:""),energy:String(null!==(c=d.get("energy"))&&void 0!==c?c:"")};if(!(yield fetch("http://localhost:8081/contact",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)})).ok)throw new Error("Erreur lors de l’envoi du formulaire")})}(t),t.reset(),alert("Votre message a bien été envoyé ✨")}catch(e){console.error(e),alert("Une erreur est survenue, veuillez réessayer.")}}))}()})})();